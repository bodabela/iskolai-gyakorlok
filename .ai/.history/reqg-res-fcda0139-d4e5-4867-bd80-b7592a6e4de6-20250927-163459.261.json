{
  "commands": {
    "build-commands": [],
    "git-commands": [
      "git add .",
      "git commit -m \"refactor(matek-1.osztaly): Separate CSS and JS for hianyos-muveletek\""
    ],
    "run-commands": [
      "firebase serve --only hosting"
    ],
    "unit-test-commands": []
  },
  "files": [
    {
      "content": "\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"hu\"\u003e\n\u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u003ctitle\u003e1. Osztály - Hiányos műveletek\u003c/title\u003e\n    \u003clink rel=\"stylesheet\" href=\"hianyos-muveletek.css\"\u003e\n\u003c/head\u003e\n\u003cbody class=\"theme-candy\"\u003e \u003cdiv class=\"controls-container\"\u003e\n        \u003cdiv\u003e\n            \u003cp class=\"control-label\"\u003eTéma választó:\u003c/p\u003e\n            \u003cdiv class=\"theme-selector\"\u003e\n                \u003cbutton id=\"themeBtnCandy\" class=\"theme-button\" data-theme=\"theme-candy\"\u003eCukorka\u003c/button\u003e\n                \u003cbutton id=\"themeBtnMagicForest\" class=\"theme-button\" data-theme=\"theme-magicforest\"\u003eVarázserdő\u003c/button\u003e\n                \u003cbutton id=\"themeBtnOcean\" class=\"theme-button\" data-theme=\"theme-ocean\"\u003eÓceán\u003c/button\u003e\n                \u003cbutton id=\"themeBtnFlowerGarden\" class=\"theme-button\" data-theme=\"theme-flowergarden\"\u003eVirágoskert\u003c/button\u003e\n                \u003cbutton id=\"themeBtnSky\" class=\"theme-button\" data-theme=\"theme-sky\"\u003eÉgbolt\u003c/button\u003e\n                \u003cbutton id=\"themeBtnSpace\" class=\"theme-button\" data-theme=\"theme-space\"\u003eŰr\u003c/button\u003e\n                \u003cbutton id=\"themeBtnJungle\" class=\"theme-button\" data-theme=\"theme-jungle\"\u003eŐserdő\u003c/button\u003e\n                \u003cbutton id=\"themeBtnTech\" class=\"theme-button\" data-theme=\"theme-tech\"\u003eTechno\u003c/button\u003e\n                \u003cbutton id=\"themeBtnSport\" class=\"theme-button\" data-theme=\"theme-sport\"\u003eSport\u003c/button\u003e\n                \u003cbutton id=\"themeBtnAdventure\" class=\"theme-button\" data-theme=\"theme-adventure\"\u003eKaland\u003c/button\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv\u003e\n            \u003cp class=\"control-label\"\u003eSzámkör választó:\u003c/p\u003e\n            \u003cdiv class=\"range-selector\"\u003e\n                \u003cbutton class=\"range-button\" data-range=\"5\"\u003e5-ös\u003c/button\u003e\n                \u003cbutton class=\"range-button active\" data-range=\"10\"\u003e10-es\u003c/button\u003e \u003cbutton class=\"range-button\" data-range=\"20\"\u003e20-as\u003c/button\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\n    \u003cdiv class=\"container\"\u003e\n        \u003ch1\u003e1. Osztály - Matematika Feladatok\u003c/h1\u003e\n        \u003ch2\u003eTéma: Hiányos műveletek (Pótlás)\u003c/h2\u003e\n\n        \u003cdiv class=\"task\"\u003e\n            \u003cdiv class=\"task-header\"\u003e\n                \u003ch3\u003e1. Feladat: Mennyi hiányzik?\u003c/h3\u003e\n                \u003cbutton class=\"task-button new-task-button\" onclick=\"generateTask1()\"\u003eÚj feladat\u003c/button\u003e\n            \u003c/div\u003e\n            \u003cp id=\"task1_description_p\"\u003ePótold a hiányzó számot, hogy az összeg helyes legyen!\u003c/p\u003e\n            \u003cdiv class=\"operation\"\u003e\n                \u003cdiv class=\"task-number-display\" id=\"task1_img_num1\" style=\"background-color: #FFD700;\"\u003e3\u003c/div\u003e\n                \u003cspan style=\"font-size: 1.5em; margin: 0 5px;\"\u003e+\u003c/span\u003e\n                \u003cinput type=\"number\" id=\"task1_answer\" min=\"0\" max=\"10\"\u003e \n                \u003cspan style=\"font-size: 1.5em; margin: 0 5px;\"\u003e=\u003c/span\u003e\n                \u003cdiv class=\"task-number-display\" id=\"task1_img_sum\" style=\"background-color: #87CEEB;\"\u003e7\u003c/div\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"number-line-container\"\u003e\n                \u003csvg id=\"numberLine1\" class=\"number-line\" viewBox=\"0 0 360 70\" preserveAspectRatio=\"xMidYMid meet\"\u003e\n                    \u003cdefs\u003e\n                        \u003cmarker id=\"arrowhead-axis\" markerWidth=\"8\" markerHeight=\"6\" refX=\"8\" refY=\"3\" orient=\"auto\"\u003e\n                            \u003cpolygon points=\"0 0, 8 3, 0 6\" fill=\"#333\" /\u003e\n                        \u003c/marker\u003e\n                         \u003cmarker id=\"arrowhead-axis-left\" markerWidth=\"8\" markerHeight=\"6\" refX=\"0\" refY=\"3\" orient=\"auto\"\u003e\n                            \u003cpolygon points=\"8 0, 0 3, 8 6\" fill=\"#333\" /\u003e\n                        \u003c/marker\u003e\n                        \u003cmarker id=\"op-arrowhead\" markerWidth=\"8\" markerHeight=\"6\" refX=\"8\" refY=\"3\" orient=\"auto\"\u003e\n                            \u003cpolygon points=\"0 0, 8 3, 0 6\" class=\"arrow-head\" /\u003e\n                        \u003c/marker\u003e\n                    \u003c/defs\u003e\n                    \u003cline id=\"axis1\" class=\"axis\"/\u003e\n                    \u003cg class=\"ticks-and-numbers\"\u003e\n                        \u003c/g\u003e\n                    \u003cline id=\"arrow1_op1\" class=\"arrow-shaft operation-arrow\" marker-end=\"url(#op-arrowhead)\"/\u003e\n                    \u003ctext id=\"label1_op1_num\" class=\"label-text-num\"\u003e\u003c/text\u003e\n                    \u003ctext id=\"label1_op1_op\" class=\"label-text-op\"\u003e\u003c/text\u003e \n                    \u003cline id=\"arrow1_op2\" class=\"arrow-shaft unknown-arrow\" marker-end=\"url(#op-arrowhead)\"/\u003e\n                    \u003ctext id=\"label1_op2_op\" class=\"label-text-op\"\u003e\u003c/text\u003e \n                    \u003ctext id=\"label1_op2_q_mark\" class=\"question-mark-text\"\u003e?\u003c/text\u003e \n                    \u003ccircle id=\"marker1_res\" class=\"result-marker\" r=\"3.5\"/\u003e\n                \u003c/svg\u003e\n            \u003c/div\u003e\n            \u003cbutton class=\"task-button\" onclick=\"checkTask1()\"\u003eEllenőrzés\u003c/button\u003e\n            \u003cp id=\"task1_feedback\" class=\"feedback\"\u003e\u003c/p\u003e\n        \u003c/div\u003e\n\n        \u003cdiv class=\"task\"\u003e\n             \u003cdiv class=\"task-header\"\u003e\n                \u003ch3\u003e2. Feladat: Mennyit vettünk el?\u003c/h3\u003e\n                \u003cbutton class=\"task-button new-task-button\" onclick=\"generateTask2()\"\u003eÚj feladat\u003c/button\u003e\n            \u003c/div\u003e\n            \u003cp id=\"task2_description_p\"\u003eÍrd be a számot, amennyit el kell vennünk, hogy az eredmény jó legyen!\u003c/p\u003e\n            \u003cdiv class=\"operation\"\u003e\n                \u003cdiv class=\"task-number-display\" id=\"task2_img_minuend\" style=\"background-color: #90EE90;\"\u003e9\u003c/div\u003e\n                \u003cspan style=\"font-size: 1.5em; margin: 0 5px;\"\u003e-\u003c/span\u003e\n                \u003cinput type=\"number\" id=\"task2_answer\" min=\"0\" max=\"10\"\u003e \n                \u003cspan style=\"font-size: 1.5em; margin: 0 5px;\"\u003e=\u003c/span\u003e\n                \u003cdiv class=\"task-number-display\" id=\"task2_img_difference\" style=\"background-color: #FFA07A;\"\u003e4\u003c/div\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"number-line-container\"\u003e\n                \u003csvg id=\"numberLine2\" class=\"number-line\" viewBox=\"0 0 360 110\" preserveAspectRatio=\"xMidYMid meet\"\u003e \n                    \u003cline id=\"axis2\" class=\"axis\" /\u003e\n                    \u003cg class=\"ticks-and-numbers\"\u003e\n                        \u003c/g\u003e\n                    \u003cline id=\"arrow2_known\" class=\"arrow-shaft operation-arrow\" marker-end=\"url(#op-arrowhead)\"/\u003e\n                    \u003ctext id=\"label2_known_num\" class=\"label-text-num\"\u003e\u003c/text\u003e\n                    \u003cline id=\"arrow2_unknown_sub\" class=\"arrow-shaft unknown-arrow\" marker-end=\"url(#op-arrowhead)\"/\u003e\n                    \u003ctext id=\"label2_unknown_op\" class=\"label-text-op\"\u003e\u003c/text\u003e\n                    \u003ctext id=\"label2_unknown_num_q\" class=\"question-mark-text\"\u003e?\u003c/text\u003e \n                    \u003ccircle id=\"marker2_result\" class=\"result-marker\" r=\"3.5\"/\u003e\n                \u003c/svg\u003e\n            \u003c/div\u003e\n            \u003cbutton class=\"task-button\" onclick=\"checkTask2()\"\u003eEllenőrzés\u003c/button\u003e\n            \u003cp id=\"task2_feedback\" class=\"feedback\"\u003e\u003c/p\u003e\n        \u003c/div\u003e\n\n        \u003cdiv class=\"task\"\u003e\n            \u003cdiv class=\"task-header\"\u003e\n                \u003ch3\u003e3. Feladat: Mennyi volt eredetileg?\u003c/h3\u003e\n                \u003cbutton class=\"task-button new-task-button\" onclick=\"generateTask3()\"\u003eÚj feladat\u003c/button\u003e\n            \u003c/div\u003e\n            \u003cp id=\"task3_description_p\"\u003eMelyik számból kell elvenni 6-ot, hogy 8 maradjon?\u003c/p\u003e\n            \u003cdiv class=\"operation\"\u003e\n                \u003cinput type=\"number\" id=\"task3_answer\" min=\"0\" max=\"20\"\u003e \n                \u003cspan style=\"font-size: 1.5em; margin: 0 5px;\"\u003e-\u003c/span\u003e\n                \u003cdiv class=\"task-number-display\" id=\"task3_img_subtrahend\" style=\"background-color: #FFC0CB;\"\u003e6\u003c/div\u003e\n                \u003cspan style=\"font-size: 1.5em; margin: 0 5px;\"\u003e=\u003c/span\u003e\n                \u003cdiv class=\"task-number-display\" id=\"task3_img_difference\" style=\"background-color: #DDA0DD;\"\u003e8\u003c/div\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"number-line-container\"\u003e\n                \u003csvg id=\"numberLine3\" class=\"number-line\" viewBox=\"0 0 490 150\" preserveAspectRatio=\"xMidYMid meet\"\u003e \u003cline id=\"axis3\" class=\"axis\" /\u003e\n                     \u003cg class=\"ticks-and-numbers\"\u003e\n                        \u003c/g\u003e\n                    \u003ctext id=\"label3_start_q_top\" class=\"question-mark-text\"\u003e?\u003c/text\u003e\n                    \u003crect id=\"label3_sub_num_top_bg\" class=\"label-bg-rect\" /\u003e \n                    \u003cline id=\"arrow3_subtraction_top\" class=\"arrow-shaft unknown-arrow\" marker-end=\"url(#op-arrowhead)\"/\u003e\n                    \u003ctext id=\"label3_sub_op_top\" class=\"label-text-op\"\u003e\u003c/text\u003e\n                    \u003ctext id=\"label3_sub_num_top\" class=\"label-text-num\"\u003e\u003c/text\u003e\n                    \u003ccircle id=\"marker3_result_top\" class=\"result-marker\" r=\"3.5\"/\u003e\n                    \n                    \u003cline id=\"arrow3_add1_bottom\" class=\"arrow-shaft operation-arrow\" marker-end=\"url(#op-arrowhead)\"/\u003e\n                    \u003ctext id=\"label3_add1_num_bottom\" class=\"label-text-num\"\u003e\u003c/text\u003e\n                    \u003ctext id=\"label3_add1_op_bottom\" class=\"label-text-op\"\u003e\u003c/text\u003e\n                    \u003cline id=\"arrow3_add2_bottom\" class=\"arrow-shaft helper-arrow-green\" marker-end=\"url(#op-arrowhead)\"/\u003e\n                    \u003ctext id=\"label3_add2_num_bottom\" class=\"label-text-num\"\u003e\u003c/text\u003e\n                    \u003ctext id=\"label3_add2_op_bottom\" class=\"label-text-op\"\u003e\u003c/text\u003e\n                \u003c/svg\u003e\n            \u003c/div\u003e\n            \u003cbutton class=\"task-button\" onclick=\"checkTask3()\"\u003eEllenőrzés\u003c/button\u003e\n            \u003cp id=\"task3_feedback\" class=\"feedback\"\u003e\u003c/p\u003e\n        \u003c/div\u003e\n\n    \u003c/div\u003e\n\n    \u003cscript src=\"/__/firebase/11.7.3/firebase-app-compat.js\"\u003e\u003c/script\u003e\n    \u003cscript src=\"/__/firebase/11.7.3/firebase-auth-compat.js\"\u003e\u003c/script\u003e\n    \u003cscript src=\"/__/firebase/11.7.3/firebase-firestore-compat.js\"\u003e\u003c/script\u003e\n    \u003cscript src=\"../../js/firebase-logger.js\"\u003e\u003c/script\u003e\n    \u003cscript src=\"hianyos-muveletek.js\"\u003e\u003c/script\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n",
      "path": "public/matek/1.osztaly/hianyos-muveletek.html",
      "status": "existing",
      "type": "app"
    },
    {
      "content": "body {\n    font-family: 'Arial', sans-serif;\n    margin: 0;\n    padding: 20px;\n    color: #333;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    min-height: 100vh;\n    transition: background-color 0.5s ease, color 0.5s ease;\n}\n\n.controls-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 15px;\n    margin-bottom: 20px;\n    padding: 10px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border-radius: 8px;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n    width: 100%;\n    max-width: 900px; \n}\n\n.theme-selector, .range-selector {\n    display: flex;\n    flex-wrap: wrap; \n    justify-content: center;\n    gap: 8px;\n}\n\n.control-label {\n    font-weight: bold;\n    margin-bottom: 5px;\n    font-size: 0.95em;\n    transition: color 0.5s ease;\n}\n\n.theme-button, .range-button {\n    padding: 8px 12px;\n    border: 1px solid transparent;\n    border-radius: 5px;\n    cursor: pointer;\n    font-weight: bold;\n    font-size: 0.9em;\n    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;\n}\n.theme-button:hover, .range-button:hover {\n    transform: translateY(-1px);\n    opacity: 0.9;\n}\n.theme-button.active, .range-button.active {\n    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2), 0 0 0 2px var(--theme-button-active-border-color, #000); \n    transform: translateY(1px);\n}\n\n.container {\n    background-color: #ffffff;\n    padding: 20px; \n    border-radius: 12px;\n    box-shadow: 0 6px 15px rgba(0,0,0,0.15);\n    width: 100%;\n    max-width: 900px; \n    text-align: center;\n    transition: background-color 0.5s ease, border-color 0.5s ease;\n}\n\nh1, h2 {\n    text-align: center;\n    transition: color 0.5s ease;\n}\nh1 {\n    font-size: clamp(1.8em, 5vw, 2.2em); \n    margin-bottom: 15px;\n}\nh2 {\n    font-size: clamp(1.3em, 4vw, 1.6em); \n    margin-bottom: 25px;\n}\n.task {\n    margin-bottom: 30px; \n    padding: 20px;\n    border-radius: 10px;\n    transition: background-color 0.5s ease, border-color 0.5s ease;\n}\n.task-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 15px;\n}\n.task-header h3 {\n    margin-top: 0;\n    margin-bottom: 0; \n    font-size: clamp(1.1em, 3.5vw, 1.3em); \n    transition: color 0.5s ease;\n}\n.new-task-button {\n    padding: 6px 12px;\n    font-size: 0.8em;\n    margin-left: 10px; \n}\n\n.task p {\n    line-height: 1.6; \n    font-size: clamp(1em, 3vw, 1.1em); \n    margin-bottom: 10px; \n    transition: color 0.5s ease;\n}\n.operation {\n    font-size: clamp(1.5em, 4.5vw, 1.8em); \n    font-weight: bold;\n    margin: 10px 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap; \n    transition: color 0.5s ease;\n}\n.task-number-display { \n    display: inline-flex; \n    justify-content: center;\n    align-items: center;\n    width: 40px;\n    height: 40px;\n    font-weight: bold;\n    border-radius: 4px; \n    margin: 0 5px;\n    vertical-align: middle;\n    color: #000000; \n}\n\ninput[type=\"number\"] {\n    padding: 10px; \n    margin: 5px; \n    border-radius: 8px;\n    font-size: clamp(1em, 3vw, 1.1em); \n    width: 60px; \n    text-align: center;\n    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);\n    transition: border-color 0.5s ease;\n}\ninput[type=number] {\n    -moz-appearance: textfield;\n}\ninput[type=number]::-webkit-outer-spin-button,\ninput[type=number]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\nbutton.task-button { \n    padding: 10px 20px; \n    color: white;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n    font-size: clamp(1em, 3vw, 1.1em); \n    transition: background-color 0.3s ease, transform 0.2s ease;\n    margin-top: 10px;\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n}\nbutton.task-button:hover {\n    transform: translateY(-2px);\n}\nbutton.task-button:active {\n    transform: translateY(0px);\n}\n.feedback {\n    margin-top: 10px; \n    font-weight: bold;\n    padding: 8px; \n    border-radius: 6px;\n    font-size: clamp(0.9em, 2.8vw, 1.05em); \n    transition: color 0.5s ease, background-color 0.5s ease, border-color 0.5s ease;\n}\n\n/* Number Line Styles */\n.number-line-container {\n    margin-top: 20px;\n    margin-bottom: 15px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    overflow-x: auto; \n}\n.number-line {\n    min-width: 400px; \n    max-width: 100%;\n    height: auto;\n    display: block;\n    margin: 0 auto;\n}\n.number-line .axis { stroke-width: 2; transition: stroke 0.5s ease; }\n.number-line .tick { stroke-width: 1.5; transition: stroke 0.5s ease; }\n.number-line .number-text { \n    font-size: 11px; \n    text-anchor: middle; \n    dominant-baseline: middle; \n    font-family: 'Arial', sans-serif; \n    transition: fill 0.5s ease; \n}\n.number-line .arrow-shaft { stroke-width: 2.5; transition: stroke 0.5s ease; }\n.number-line .arrow-head { stroke-width: 2.5; transition: fill 0.5s ease; }\n.number-line .label-text-num, .number-line .label-text-op { font-size: 13px; font-weight: bold; text-anchor: middle; font-family: 'Arial', sans-serif; transition: fill 0.5s ease;}\n.number-line .question-mark-text { font-size: 15px; font-weight: bold; text-anchor: middle; transition: fill 0.5s ease; }\n.number-line .result-marker { transition: fill 0.5s ease; } \n.number-line .label-bg-rect { transition: fill 0.5s ease; rx:3; ry:3; }\n\n\n/* --- THEME DEFINITIONS --- */\n/* Default styles for theme/range buttons if no theme is active (fallback) */\n.theme-button, .range-button {\n    background-color: #e0e0e0;\n    color: #333;\n    border: 1px solid #ccc;\n}\n\n/* Shared Number Line Base Styles (will be overridden by themes) */\n.number-line .axis { stroke: #333; }\n.number-line .tick { stroke: #555; }\n.number-line .number-text { fill: #333; }\n.number-line .operation-arrow { stroke: #007bff; }\n.number-line .helper-arrow-green { stroke: #28a745; }\n.number-line .unknown-arrow { stroke: #ff9800; }\n.number-line .arrow-head { fill: currentColor; }\n.number-line .label-text-num, .number-line .label-text-op { fill: #000; }\n.number-line .question-mark-text { fill: #e53935; }\n.number-line .result-marker { fill: #4caf50; }\n\n/* 1. Candy Theme (Girlish) */\nbody.theme-candy { background-color: #fff0f5; color: #8a2be2; --theme-button-active-border-color: #da70d6;}\nbody.theme-candy .control-label { color: #c71585; }\nbody.theme-candy .theme-button.active, body.theme-candy .range-button.active { background-color: #ffb6c1; color: #7c3c60; }\nbody.theme-candy .container { background-color: #ffe4e1; border: 2px solid #ffc0cb; }\nbody.theme-candy h1, body.theme-candy h2 { color: #da70d6; }\nbody.theme-candy .task { background-color: #fffafa; border: 2px dashed #ffb6c1; }\nbody.theme-candy .task-header h3 { color: #ff69b4; }\nbody.theme-candy .task p { color: #8a2be2; }\nbody.theme-candy .operation { color: #9932cc; }\nbody.theme-candy input[type=\"number\"] { border: 2px solid #ffb6c1; }\nbody.theme-candy button.task-button { background-color: #ff69b4; }\nbody.theme-candy button.task-button:hover { background-color: #ff1493; }\nbody.theme-candy .feedback.correct { color: #228b22; background-color: #f0fff0; border: 1px solid #90ee90; }\nbody.theme-candy .feedback.incorrect { color: #dc143c; background-color: #fff0f5; border: 1px solid #ffb6c1; }\nbody.theme-candy .number-line .axis { stroke: #ba55d3; }\nbody.theme-candy .number-line .tick { stroke: #dda0dd; }\nbody.theme-candy .number-line .number-text { fill: #8a2be2; }\nbody.theme-candy .number-line .operation-arrow { stroke: #ff69b4; }\nbody.theme-candy .number-line .helper-arrow-green { stroke: #98fb98; }\nbody.theme-candy .number-line .unknown-arrow { stroke: #afeeee; }\nbody.theme-candy .number-line .label-text-num, body.theme-candy .number-line .label-text-op { fill: #9932cc; }\nbody.theme-candy .number-line .question-mark-text { fill: #ff1493; }\nbody.theme-candy .number-line .result-marker { fill: #da70d6; }\n\n/* 2. Space Theme (Boyish) */\nbody.theme-space { background-color: #0f172a; color: #e2e8f0; --theme-button-active-border-color: #60a5fa;}\nbody.theme-space .control-label { color: #93c5fd; }\nbody.theme-space .theme-button.active, body.theme-space .range-button.active { background-color: #1e3a8a; color: #93c5fd; }\nbody.theme-space .container { background-color: #1e293b; border: 2px solid #334155; }\nbody.theme-space h1, body.theme-space h2 { color: #60a5fa; }\nbody.theme-space .task { background-color: #334155; border: 2px dashed #475569; }\nbody.theme-space .task-header h3 { color: #93c5fd; }\nbody.theme-space .task p { color: #cbd5e1; }\nbody.theme-space .operation { color: #e2e8f0; }\nbody.theme-space input[type=\"number\"] { border: 2px solid #475569; background-color: #1e293b; color: #e2e8f0;}\nbody.theme-space button.task-button { background-color: #2563eb; }\nbody.theme-space button.task-button:hover { background-color: #1d4ed8; }\nbody.theme-space .feedback.correct { color: #4ade80; background-color: #162d22; border: 1px solid #22c55e; }\nbody.theme-space .feedback.incorrect { color: #f87171; background-color: #3f1a1a; border: 1px solid #ef4444; }\nbody.theme-space .number-line .axis { stroke: #94a3b8; }\nbody.theme-space .number-line .tick { stroke: #64748b; }\nbody.theme-space .number-line .number-text { fill: #e2e8f0; }\nbody.theme-space .number-line .operation-arrow { stroke: #facc15; }\nbody.theme-space .number-line .helper-arrow-green { stroke: #4ade80; }\nbody.theme-space .number-line .unknown-arrow { stroke: #fb923c; }\nbody.theme-space .number-line .label-text-num, body.theme-space .number-line .label-text-op { fill: #93c5fd; }\nbody.theme-space .number-line .question-mark-text { fill: #f87171; }\nbody.theme-space .number-line .result-marker { fill: #60a5fa; }\n\n/* 3. Jungle Theme (Boyish) */\nbody.theme-jungle { background-color: #f0fff0; color: #1b5e20; --theme-button-active-border-color: #558b2f;}\nbody.theme-jungle .control-label { color: #558b2f; }\nbody.theme-jungle .theme-button.active, body.theme-jungle .range-button.active { background-color: #689f38; color: #dcedc8; }\nbody.theme-jungle .container { background-color: #e8f5e9; border: 2px solid #a5d6a7; }\nbody.theme-jungle h1, body.theme-jungle h2 { color: #388e3c; }\nbody.theme-jungle .task { background-color: #dcedc8; border: 2px dashed #81c784; }\nbody.theme-jungle .task-header h3 { color: #558b2f; }\nbody.theme-jungle .task p { color: #2e7d32; }\nbody.theme-jungle .operation { color: #1b5e20; }\nbody.theme-jungle input[type=\"number\"] { border: 2px solid #81c784; }\nbody.theme-jungle button.task-button { background-color: #7cb342; }\nbody.theme-jungle button.task-button:hover { background-color: #689f38; }\nbody.theme-jungle .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-jungle .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-jungle .number-line .axis { stroke: #558b2f; }\nbody.theme-jungle .number-line .tick { stroke: #81c784; }\nbody.theme-jungle .number-line .number-text { fill: #1b5e20; }\nbody.theme-jungle .number-line .operation-arrow { stroke: #ff8f00; }\nbody.theme-jungle .number-line .helper-arrow-green { stroke: #7cb342; }\nbody.theme-jungle .number-line .unknown-arrow { stroke: #f4511e; }\nbody.theme-jungle .number-line .label-text-num, body.theme-jungle .number-line .label-text-op { fill: #388e3c; }\nbody.theme-jungle .number-line .question-mark-text { fill: #d84315; }\nbody.theme-jungle .number-line .result-marker { fill: #558b2f; }\n\n/* 4. Magic Forest Theme (Girlish) */\nbody.theme-magicforest { background-color: #e6e6fa; color: #483d8b; --theme-button-active-border-color: #8a2be2;}\nbody.theme-magicforest .control-label { color: #9932cc; }\nbody.theme-magicforest .theme-button.active, body.theme-magicforest .range-button.active { background-color: #9370db; color: #f8f0ff; }\nbody.theme-magicforest .container { background-color: #d8bfd8; border: 2px solid #dda0dd; }\nbody.theme-magicforest h1, body.theme-magicforest h2 { color: #8a2be2; }\nbody.theme-magicforest .task { background-color: #f5f5f5; border: 2px dashed #ba55d3; }\nbody.theme-magicforest .task-header h3 { color: #9932cc; }\nbody.theme-magicforest .task p { color: #4b0082; }\nbody.theme-magicforest .operation { color: #483d8b; }\nbody.theme-magicforest input[type=\"number\"] { border: 2px solid #ba55d3; }\nbody.theme-magicforest button.task-button { background-color: #9370db; }\nbody.theme-magicforest button.task-button:hover { background-color: #8a2be2; }\nbody.theme-magicforest .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-magicforest .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-magicforest .number-line .axis { stroke: #800080; }\nbody.theme-magicforest .number-line .tick { stroke: #da70d6; }\nbody.theme-magicforest .number-line .number-text { fill: #483d8b; }\nbody.theme-magicforest .number-line .operation-arrow { stroke: #9932cc; }\nbody.theme-magicforest .number-line .helper-arrow-green { stroke: #3cb371; }\nbody.theme-magicforest .number-line .unknown-arrow { stroke: #ffd700; }\nbody.theme-magicforest .number-line .label-text-num, body.theme-magicforest .number-line .label-text-op { fill: #8a2be2; }\nbody.theme-magicforest .number-line .question-mark-text { fill: #9400d3; }\nbody.theme-magicforest .number-line .result-marker { fill: #8a2be2; }\n\n/* 5. Robo/Tech Theme (Boyish) */\nbody.theme-tech { background-color: #263238; color: #eceff1; --theme-button-active-border-color: #00acc1;}\nbody.theme-tech .control-label { color: #26c6da; }\nbody.theme-tech .theme-button.active, body.theme-tech .range-button.active { background-color: #00838f; color: #e0f7fa; }\nbody.theme-tech .container { background-color: #37474f; border: 2px solid #546e7a; }\nbody.theme-tech h1, body.theme-tech h2 { color: #00acc1; }\nbody.theme-tech .task { background-color: #455a64; border: 2px dashed #78909c; }\nbody.theme-tech .task-header h3 { color: #26c6da; }\nbody.theme-tech .task p { color: #b0bec5; }\nbody.theme-tech .operation { color: #eceff1; }\nbody.theme-tech input[type=\"number\"] { border: 2px solid #78909c; background-color: #37474f; color: #eceff1; }\nbody.theme-tech button.task-button { background-color: #0097a7; }\nbody.theme-tech button.task-button:hover { background-color: #00838f; }\nbody.theme-tech .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-tech .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-tech .number-line .axis { stroke: #90a4ae; }\nbody.theme-tech .number-line .tick { stroke: #b0bec5; }\nbody.theme-tech .number-line .number-text { fill: #eceff1; }\nbody.theme-tech .number-line .operation-arrow { stroke: #ffab00; }\nbody.theme-tech .number-line .helper-arrow-green { stroke: #00e676; }\nbody.theme-tech .number-line .unknown-arrow { stroke: #76ff03; }\nbody.theme-tech .number-line .label-text-num, body.theme-tech .number-line .label-text-op { fill: #26c6da; }\nbody.theme-tech .number-line .question-mark-text { fill: #00e676; }\nbody.theme-tech .number-line .result-marker { fill: #00acc1; }\n\n/* 6. Ocean Theme (Girlish) */\nbody.theme-ocean { background-color: #e0f7fa; color: #00796b; --theme-button-active-border-color: #20b2aa;}\nbody.theme-ocean .control-label { color: #00acc1; }\nbody.theme-ocean .theme-button.active, body.theme-ocean .range-button.active { background-color: #4db6ac; color: #e0f2f1; }\nbody.theme-ocean .container { background-color: #b2ebf2; border: 2px solid #4dd0e1; }\nbody.theme-ocean h1, body.theme-ocean h2 { color: #00897b; }\nbody.theme-ocean .task { background-color: #e0f7fa; border: 2px dashed #80deea; }\nbody.theme-ocean .task-header h3 { color: #00acc1; }\nbody.theme-ocean .task p { color: #00695c; }\nbody.theme-ocean .operation { color: #004d40; }\nbody.theme-ocean input[type=\"number\"] { border: 2px solid #80deea; }\nbody.theme-ocean button.task-button { background-color: #26a69a; }\nbody.theme-ocean button.task-button:hover { background-color: #00897b; }\nbody.theme-ocean .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-ocean .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-ocean .number-line .axis { stroke: #00796b; }\nbody.theme-ocean .number-line .tick { stroke: #4db6ac; }\nbody.theme-ocean .number-line .number-text { fill: #004d40; }\nbody.theme-ocean .number-line .operation-arrow { stroke: #ff7f50; }\nbody.theme-ocean .number-line .helper-arrow-green { stroke: #98fb98; }\nbody.theme-ocean .number-line .unknown-arrow { stroke: #f0e68c; }\nbody.theme-ocean .number-line .label-text-num, body.theme-ocean .number-line .label-text-op { fill: #00897b; }\nbody.theme-ocean .number-line .question-mark-text { fill: #ff7f50; }\nbody.theme-ocean .number-line .result-marker { fill: #00acc1; }\n\n/* 7. Sport Theme (Boyish) */\nbody.theme-sport { background-color: #e3f2fd; color: #0d47a1; --theme-button-active-border-color: #d32f2f;}\nbody.theme-sport .control-label { color: #1976d2; }\nbody.theme-sport .theme-button.active, body.theme-sport .range-button.active { background-color: #1976d2; color: #e3f2fd; }\nbody.theme-sport .container { background-color: #bbdefb; border: 2px solid #64b5f6; }\nbody.theme-sport h1, body.theme-sport h2 { color: #d32f2f; }\nbody.theme-sport .task { background-color: #e3f2fd; border: 2px dashed #42a5f5; }\nbody.theme-sport .task-header h3 { color: #1976d2; }\nbody.theme-sport .task p { color: #0d47a1; }\nbody.theme-sport .operation { color: #01579b; }\nbody.theme-sport input[type=\"number\"] { border: 2px solid #42a5f5; }\nbody.theme-sport button.task-button { background-color: #2196f3; }\nbody.theme-sport button.task-button:hover { background-color: #1976d2; }\nbody.theme-sport .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-sport .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-sport .number-line .axis { stroke: #1565c0; }\nbody.theme-sport .number-line .tick { stroke: #42a5f5; }\nbody.theme-sport .number-line .number-text { fill: #0d47a1; }\nbody.theme-sport .number-line .operation-arrow { stroke: #fbc02d; }\nbody.theme-sport .number-line .helper-arrow-green { stroke: #66bb6a; }\nbody.theme-sport .number-line .unknown-arrow { stroke: #ff7043; }\nbody.theme-sport .number-line .label-text-num, body.theme-sport .number-line .label-text-op { fill: #1976d2; }\nbody.theme-sport .number-line .question-mark-text { fill: #d32f2f; }\nbody.theme-sport .number-line .result-marker { fill: #1e88e5; }\n\n/* 8. Flower Garden Theme (Girlish) */\nbody.theme-flowergarden { background-color: #fffaf0; color: #556b2f; --theme-button-active-border-color: #ff6347;}\nbody.theme-flowergarden .control-label { color: #ff7f50; }\nbody.theme-flowergarden .theme-button.active, body.theme-flowergarden .range-button.active { background-color: #ffdab9; color: #8b4513; }\nbody.theme-flowergarden .container { background-color: #fff5ee; border: 2px solid #ffdab9; }\nbody.theme-flowergarden h1, body.theme-flowergarden h2 { color: #ff6347; }\nbody.theme-flowergarden .task { background-color: #fffafa; border: 2px dashed #ffe4b5; }\nbody.theme-flowergarden .task-header h3 { color: #ff7f50; }\nbody.theme-flowergarden .task p { color: #8b4513; }\nbody.theme-flowergarden .operation { color: #a0522d; }\nbody.theme-flowergarden input[type=\"number\"] { border: 2px solid #ffdab9; }\nbody.theme-flowergarden button.task-button { background-color: #ffa07a; }\nbody.theme-flowergarden button.task-button:hover { background-color: #ff7f50; }\nbody.theme-flowergarden .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-flowergarden .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-flowergarden .number-line .axis { stroke: #cd853f; }\nbody.theme-flowergarden .number-line .tick { stroke: #f4a460; }\nbody.theme-flowergarden .number-line .number-text { fill: #556b2f; }\nbody.theme-flowergarden .number-line .operation-arrow { stroke: #ffd700; }\nbody.theme-flowergarden .number-line .helper-arrow-green { stroke: #90ee90; }\nbody.theme-flowergarden .number-line .unknown-arrow { stroke: #adff2f; }\nbody.theme-flowergarden .number-line .label-text-num, body.theme-flowergarden .number-line .label-text-op { fill: #ff7f50; }\nbody.theme-flowergarden .number-line .question-mark-text { fill: #ff6347; }\nbody.theme-flowergarden .number-line .result-marker { fill: #ff8c00; }\n\n/* 9. Adventure Theme (Boyish) */\nbody.theme-adventure { background-color: #f5f5dc; color: #5d4037; --theme-button-active-border-color: #bf360c;}\nbody.theme-adventure .control-label { color: #6d4c41; }\nbody.theme-adventure .theme-button.active, body.theme-adventure .range-button.active { background-color: #a1887f; color: #efebe9; }\nbody.theme-adventure .container { background-color: #efebe9; border: 2px solid #a1887f; }\nbody.theme-adventure h1, body.theme-adventure h2 { color: #bf360c; }\nbody.theme-adventure .task { background-color: #d7ccc8; border: 2px dashed #8d6e63; }\nbody.theme-adventure .task-header h3 { color: #6d4c41; }\nbody.theme-adventure .task p { color: #4e342e; }\nbody.theme-adventure .operation { color: #3e2723; }\nbody.theme-adventure input[type=\"number\"] { border: 2px solid #8d6e63; }\nbody.theme-adventure button.task-button { background-color: #795548; }\nbody.theme-adventure button.task-button:hover { background-color: #5d4037; }\nbody.theme-adventure .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-adventure .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-adventure .number-line .axis { stroke: #6d4c41; }\nbody.theme-adventure .number-line .tick { stroke: #8d6e63; }\nbody.theme-adventure .number-line .number-text { fill: #3e2723; }\nbody.theme-adventure .number-line .operation-arrow { stroke: #ffab40; }\nbody.theme-adventure .number-line .helper-arrow-green { stroke: #43a047; }\nbody.theme-adventure .number-line .unknown-arrow { stroke: #8bc34a; }\nbody.theme-adventure .number-line .label-text-num, body.theme-adventure .number-line .label-text-op { fill: #bf360c; }\nbody.theme-adventure .number-line .question-mark-text { fill: #d84315; }\nbody.theme-adventure .number-line .result-marker { fill: #795548; }\n\n/* 10. Sky Theme (Girlish) */\nbody.theme-sky { background-color: #f0f8ff; color: #4682b4; --theme-button-active-border-color: #1e90ff;}\nbody.theme-sky .control-label { color: #00bfff; }\nbody.theme-sky .theme-button.active, body.theme-sky .range-button.active { background-color: #add8e6; color: #005a9c; }\nbody.theme-sky .container { background-color: #e6f7ff; border: 2px solid #b0e0e6; }\nbody.theme-sky h1, body.theme-sky h2 { color: #1e90ff; }\nbody.theme-sky .task { background-color: #f5faff; border: 2px dashed #add8e6; }\nbody.theme-sky .task-header h3 { color: #00bfff; }\nbody.theme-sky .task p { color: #5f9ea0; }\nbody.theme-sky .operation { color: #4682b4; }\nbody.theme-sky input[type=\"number\"] { border: 2px solid #b0e0e6; }\nbody.theme-sky button.task-button { background-color: #87cefa; }\nbody.theme-sky button.task-button:hover { background-color: #6495ed; }\nbody.theme-sky .feedback.correct { color: #388e3c; background-color: #e8f5e9; border: 1px solid #a5d6a7; }\nbody.theme-sky .feedback.incorrect { color: #d32f2f; background-color: #ffebee; border: 1px solid #ef9a9a; }\nbody.theme-sky .number-line .axis { stroke: #708090; }\nbody.theme-sky .number-line .tick { stroke: #b0c4de; }\nbody.theme-sky .number-line .number-text { fill: #4682b4; }\nbody.theme-sky .number-line .operation-arrow { stroke: #ffd700; }\nbody.theme-sky .number-line .helper-arrow-green { stroke: #f0e68c; }\nbody.theme-sky .number-line .unknown-arrow { stroke: #d3d3d3; } \nbody.theme-sky .number-line .arrow-head { fill: currentColor; }\nbody.theme-sky .number-line .label-text-num, body.theme-sky .number-line .label-text-op { fill: #1e90ff; }\nbody.theme-sky .number-line .question-mark-text { fill: #00bfff; }\nbody.theme-sky .number-line .result-marker { fill: #87ceeb; }",
      "path": "public/matek/1.osztaly/hianyos-muveletek.css",
      "status": "new",
      "type": "app"
    },
    {
      "content": "initializeFirebaseAndLogger();\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nlet currentNumberRange = 10; \n\nlet task1Data = { num1: 3, sum: 7, correctAnswer: 4 };\nlet task2Data = { minuend: 9, difference: 4, correctAnswer: 5 };\nlet task3Data = { subtrahend: 6, difference: 8, correctAnswer: 14 };\n\n\nfunction drawTicksAndNumbers(svgElement, groupClass, startX, spacing, maxNum, yAxis, highlightedNumbers = []) {\n    const g = svgElement.querySelector(groupClass);\n    if (!g) return;\n    g.innerHTML = ''; \n\n    const textYPosition = yAxis + 15; \n    const rectHeight = 18;\n     \n\n    for (let i = 0; i \u003c= maxNum; i++) {\n        const x = startX + i * spacing;\n        const tick = document.createElementNS(SVG_NS, \"line\");\n        tick.setAttribute(\"class\", \"tick\");\n        tick.setAttribute(\"x1\", x);\n        tick.setAttribute(\"y1\", yAxis - 5); \n        tick.setAttribute(\"x2\", x);\n        tick.setAttribute(\"y2\", yAxis + 5); \n        g.appendChild(tick);\n\n        const currentHighlight = highlightedNumbers.find(h =\u003e h.value === i);\n\n        if (currentHighlight \u0026\u0026 currentHighlight.color !== 'transparent') { \n            const rect = document.createElementNS(SVG_NS, \"rect\");\n            const rectWidth = rectHeight; \n            rect.setAttribute(\"x\", x - rectWidth / 2);\n            rect.setAttribute(\"y\", textYPosition - rectHeight / 2); \n            rect.setAttribute(\"width\", rectWidth);\n            rect.setAttribute(\"height\", rectHeight);\n            rect.setAttribute(\"fill\", currentHighlight.color);\n            rect.setAttribute(\"rx\", 4);\n            rect.setAttribute(\"ry\", 4);\n            g.appendChild(rect); \n        }\n\n        const text = document.createElementNS(SVG_NS, \"text\");\n        text.setAttribute(\"class\", \"number-text\");\n        text.setAttribute(\"x\", x);\n        text.setAttribute(\"y\", textYPosition); \n        text.setAttribute(\"dominant-baseline\", \"middle\");\n        text.textContent = i;\n        g.appendChild(text);\n    }\n}\n\nfunction updateNumberDisplayDiv(divId, number, backgroundColorHex = \"87CEEB\") {\n    const divElement = document.getElementById(divId);\n    if (divElement) {\n        divElement.textContent = number;\n        divElement.style.backgroundColor = `#${backgroundColorHex}`;\n    }\n}\n\nfunction calculateSpacing(svgWidth, startX, maxNum) {\n    const usableWidth = svgWidth - startX - 20; \n    return maxNum \u003e 0 ? usableWidth / maxNum : usableWidth; \n}\n\n\nfunction initNumberLine1(num1 = task1Data.num1, sum = task1Data.sum) {\n    const svg = document.getElementById(\"numberLine1\");\n    const axis = document.getElementById(\"axis1\");\n    const startX = 40; \n    const svgWidth = parseInt(svg.getAttribute(\"viewBox\").split(\" \")[2]);\n    const maxNumOnLine = currentNumberRange; \n    const spacing = calculateSpacing(svgWidth, startX, maxNumOnLine);\n    \n    const yAxis = 40; \n    const yArrows = yAxis - 15; \n    const yText = yArrows - 7; \n\n    axis.setAttribute(\"x1\", startX);\n    axis.setAttribute(\"y1\", yAxis);\n    axis.setAttribute(\"x2\", startX + maxNumOnLine * spacing + 10); \n    axis.setAttribute(\"y2\", yAxis);\n    \n    const highlightedNumbers1 = [\n        { value: num1, color: '#FFD700' }, \n        { value: sum, color: '#87CEEB' }   \n    ];\n    drawTicksAndNumbers(svg, \".ticks-and-numbers\", startX, spacing, maxNumOnLine, yAxis, highlightedNumbers1);\n\n    // Csak az ismeretlent jelző nyíl marad\n    let x1_op2 = startX + num1 * spacing;\n    let x2_op2 = startX + sum * spacing;\n    document.getElementById(\"arrow1_op2\").setAttribute(\"x1\", x1_op2);\n    document.getElementById(\"arrow1_op2\").setAttribute(\"y1\", yArrows);\n    document.getElementById(\"arrow1_op2\").setAttribute(\"x2\", x2_op2); \n    document.getElementById(\"arrow1_op2\").setAttribute(\"y2\", yArrows);\n\n    const label1Op2Op = document.getElementById(\"label1_op2_op\");\n    label1Op2Op.setAttribute(\"x\", (x1_op2 + x2_op2) / 2 - 6); \n    label1Op2Op.setAttribute(\"y\", yText);\n    label1Op2Op.textContent = \"+\";\n    \n    const label1Op2QMark = document.getElementById(\"label1_op2_q_mark\");\n    label1Op2QMark.setAttribute(\"x\", (x1_op2 + x2_op2) / 2 + 6); \n    label1Op2QMark.setAttribute(\"y\", yText);\n    \n    document.getElementById(\"marker1_res\").setAttribute(\"cx\", startX + sum * spacing);\n    document.getElementById(\"marker1_res\").setAttribute(\"cy\", yAxis);\n\n    // Az első nyíl és feliratának eltávolítása (vagy láthatatlanná tétele)\n    document.getElementById(\"arrow1_op1\").style.display = \"none\";\n    document.getElementById(\"label1_op1_num\").style.display = \"none\";\n    const label1Op1Op = svg.querySelector(\"#label1_op1_op\"); \n    if(label1Op1Op) label1Op1Op.style.display = \"none\";\n}\n\nfunction initNumberLine2(minuend = task2Data.minuend, difference = task2Data.difference) {\n    const svg = document.getElementById(\"numberLine2\");\n    const axis = document.getElementById(\"axis2\");\n    const startX = 40;\n    const svgWidth = parseInt(svg.getAttribute(\"viewBox\").split(\" \")[2]);\n    const maxNumOnLine = currentNumberRange; \n    const spacing = calculateSpacing(svgWidth, startX, maxNumOnLine);\n\n    const yAxis = 70; \n    const yNumbers = yAxis + 20;\n    const yArrows = yAxis - 35; \n    const yText = yArrows - 7;\n\n    axis.setAttribute(\"x1\", startX);\n    axis.setAttribute(\"y1\", yAxis);\n    axis.setAttribute(\"x2\", startX + maxNumOnLine * spacing + 10);\n    axis.setAttribute(\"y2\", yAxis);\n\n    const highlightedNumbers2 = [\n        { value: minuend, color: '#90EE90' },    \n        { value: difference, color: '#FFA07A' } \n    ];\n    drawTicksAndNumbers(svg, \".ticks-and-numbers\", startX, spacing, maxNumOnLine, yAxis, highlightedNumbers2);\n\n    // Csak az ismeretlen kivonást jelző nyíl marad\n    let x1_unknown = startX + minuend * spacing;\n    let x2_unknown = startX + difference * spacing;\n    const arrowUnknownSub = document.getElementById(\"arrow2_unknown_sub\");\n    arrowUnknownSub.setAttribute(\"x1\", x1_unknown);\n    arrowUnknownSub.setAttribute(\"y1\", yArrows); \n    arrowUnknownSub.setAttribute(\"x2\", x2_unknown); \n    arrowUnknownSub.setAttribute(\"y2\", yArrows); \n\n    const labelUnknownOp = document.getElementById(\"label2_unknown_op\");\n    labelUnknownOp.setAttribute(\"x\", (x1_unknown + x2_unknown) / 2 - 6); \n    labelUnknownOp.setAttribute(\"y\", yText); \n    labelUnknownOp.textContent = \"-\";\n\n    const labelUnknownNumQ = document.getElementById(\"label2_unknown_num_q\");\n    labelUnknownNumQ.setAttribute(\"x\", (x1_unknown + x2_unknown) / 2 + 6); \n    labelUnknownNumQ.setAttribute(\"y\", yText); \n    labelUnknownNumQ.textContent = \"?\"; \n    \n    const markerResult = document.getElementById(\"marker2_result\");\n    markerResult.setAttribute(\"cx\", startX + difference * spacing);\n    markerResult.setAttribute(\"cy\", yAxis);\n\n    // Az ismert mennyiséget jelző nyíl és felirat eltávolítása\n    document.getElementById(\"arrow2_known\").style.display = \"none\";\n    document.getElementById(\"label2_known_num\").style.display = \"none\";\n}\n\nfunction initNumberLine3(minuend = task3Data.correctAnswer, subtrahend = task3Data.subtrahend, difference = task3Data.difference) {\n    const svg = document.getElementById(\"numberLine3\");\n    const axis = document.getElementById(\"axis3\");\n    const startX = 40;\n    const svgWidth = parseInt(svg.getAttribute(\"viewBox\").split(\" \")[2]);\n    const maxNumOnLine = currentNumberRange; \n    const spacing = calculateSpacing(svgWidth, startX, maxNumOnLine);\n    \n    const yAxis = 80; \n    const yNumbers = yAxis + 20; \n    const yArrowsTop = yAxis - 50; \n    const yTextTop = yArrowsTop - 7; \n    const yArrowsBottom = yAxis - 30 ; \n    const yTextBottom = yArrowsBottom + 12; \n\n    axis.setAttribute(\"x1\", startX);\n    axis.setAttribute(\"y1\", yAxis);\n    axis.setAttribute(\"x2\", startX + maxNumOnLine * spacing + 10);\n    axis.setAttribute(\"y2\", yAxis);\n\n    const highlightedNumbers3 = [\n        { value: difference, color: '#DDA0DD' }\n    ];\n    drawTicksAndNumbers(svg, \".ticks-and-numbers\", startX, spacing, maxNumOnLine, yAxis, highlightedNumbers3);\n    \n    // Felső sorozat: ? - 6 = 8\n    const qMarkTopX = startX + minuend * spacing;\n    const labelStartQTop = document.getElementById(\"label3_start_q_top\");\n    labelStartQTop.setAttribute(\"x\", qMarkTopX);\n    labelStartQTop.setAttribute(\"y\", yNumbers + 15); // Lejjebb tolva\n    labelStartQTop.textContent = \"?\";\n    labelStartQTop.style.fill = \"#e53935\"; \n    \n    let x1_sub_top = startX + minuend * spacing;\n    let x2_sub_top = startX + difference * spacing;\n    const arrowSubTop = document.getElementById(\"arrow3_subtraction_top\");\n    arrowSubTop.setAttribute(\"x1\", x1_sub_top);\n    arrowSubTop.setAttribute(\"y1\", yArrowsTop); \n    arrowSubTop.setAttribute(\"x2\", x2_sub_top); \n    arrowSubTop.setAttribute(\"y2\", yArrowsTop); \n\n    const midPointSubTopX = (x1_sub_top + x2_sub_top) / 2;\n    \n    const labelSubNumTopBg = document.getElementById(\"label3_sub_num_top_bg\");\n    const labelSubNumTop = document.getElementById(\"label3_sub_num_top\");\n    labelSubNumTop.textContent = subtrahend.toString();\n    \n    const tempTextForWidth = document.createElementNS(SVG_NS, \"text\");\n    tempTextForWidth.setAttribute(\"class\", \"label-text-num\");\n    tempTextForWidth.style.visibility = \"hidden\";\n    tempTextForWidth.textContent = subtrahend.toString();\n    svg.appendChild(tempTextForWidth);\n    const textWidthSub = tempTextForWidth.getComputedTextLength();\n    svg.removeChild(tempTextForWidth);\n\n    const rectWidthSub = textWidthSub + 11; // A felhasználó által preferált érték \n    const rectHeightSub = 20; \n\n    labelSubNumTopBg.setAttribute(\"x\", midPointSubTopX + 6 - rectWidthSub / 2); \n    labelSubNumTopBg.setAttribute(\"y\", yTextTop - rectHeightSub / 2 - 5); // Korrigálva, hogy ne lógjon ki (-5 eltávolítva)\n    labelSubNumTopBg.setAttribute(\"width\", rectWidthSub);\n    labelSubNumTopBg.setAttribute(\"height\", rectHeightSub);\n    labelSubNumTopBg.setAttribute(\"fill\", \"#FFC0CB\"); \n\n    document.getElementById(\"label3_sub_op_top\").setAttribute(\"x\", midPointSubTopX - 6);\n    document.getElementById(\"label3_sub_op_top\").setAttribute(\"y\", yTextTop); \n    document.getElementById(\"label3_sub_op_top\").textContent = \"-\";\n    document.getElementById(\"label3_sub_op_top\").style.fill = \"#ff9800\"; \n    labelSubNumTop.setAttribute(\"x\", midPointSubTopX + 6); \n    labelSubNumTop.setAttribute(\"y\", yTextTop); \n    labelSubNumTop.style.fill = \"#000000\"; \n    \n    document.getElementById(\"marker3_result_top\").setAttribute(\"cx\", startX + difference * spacing);\n    document.getElementById(\"marker3_result_top\").setAttribute(\"cy\", yAxis);\n\n    // Alsó sorozat: 8 + 6 = ?\n    const firstAddendBottom = difference; \n    const secondAddendBottom = subtrahend; \n    const sumResultBottom = minuend; \n\n    // Első nyíl (0-tól difference-ig) elrejtése\n    document.getElementById(\"arrow3_add1_bottom\").style.display = \"none\";\n    document.getElementById(\"label3_add1_num_bottom\").style.display = \"none\";\n    const label3Add1OpBottom = svg.querySelector(\"#label3_add1_op_bottom\");\n    if(label3Add1OpBottom) label3Add1OpBottom.style.display = \"none\";\n\n    // Csak a második nyíl: difference-től minuend-ig (+subtrahend)\n    let x1_add2_bottom = startX + difference * spacing;\n    let x2_add2_bottom = startX + minuend * spacing;\n    const arrow2Bottom = document.getElementById(\"arrow3_add2_bottom\");\n    arrow2Bottom.setAttribute(\"x1\", x1_add2_bottom);\n    arrow2Bottom.setAttribute(\"y1\", yArrowsBottom); \n    arrow2Bottom.setAttribute(\"x2\", x2_add2_bottom); \n    arrow2Bottom.setAttribute(\"y2\", yArrowsBottom); \n\n    document.getElementById(\"label3_add2_op_bottom\").setAttribute(\"x\", (x1_add2_bottom + x2_add2_bottom) / 2 - 6); \n    document.getElementById(\"label3_add2_op_bottom\").setAttribute(\"y\", yTextBottom); \n    document.getElementById(\"label3_add2_op_bottom\").textContent = \"+\";\n    document.getElementById(\"label3_add2_num_bottom\").setAttribute(\"x\", (x1_add2_bottom + x2_add2_bottom) / 2 + 6); \n    document.getElementById(\"label3_add2_num_bottom\").setAttribute(\"y\", yTextBottom); \n    document.getElementById(\"label3_add2_num_bottom\").textContent = subtrahend.toString();\n}\n\nfunction generateTask1() {\n    let sumMax = currentNumberRange;\n    if (sumMax \u003c 2) sumMax = 2; \n    task1Data.num1 = Math.floor(Math.random() * (sumMax -1)) + 1; \n    task1Data.correctAnswer = Math.floor(Math.random() * (sumMax - task1Data.num1)) + 1; \n    task1Data.sum = task1Data.num1 + task1Data.correctAnswer;\n    if (task1Data.sum \u003e currentNumberRange) { \n         task1Data.sum = currentNumberRange;\n         task1Data.correctAnswer = task1Data.sum - task1Data.num1;\n         if (task1Data.correctAnswer \u003c 1) { \n            task1Data.num1 = Math.max(1, Math.floor(currentNumberRange / 2)); \n            task1Data.correctAnswer = currentNumberRange - task1Data.num1;\n            if (task1Data.correctAnswer \u003c 1 \u0026\u0026 currentNumberRange \u003e 1) { \n                task1Data.num1 = currentNumberRange - 1;\n                task1Data.correctAnswer = 1;\n                task1Data.sum = currentNumberRange;\n            } else if (currentNumberRange === 1) {\n                task1Data.num1 = 1;\n                task1Data.correctAnswer = 0; \n                task1Data.sum = 1;\n            }\n         }\n    }\n\n    document.getElementById('task1_description_p').textContent = `Mennyit kell adni ${task1Data.num1}-hez, hogy ${task1Data.sum} legyen?`;\n    updateNumberDisplayDiv(\"task1_img_num1\", task1Data.num1, \"FFD700\");\n    updateNumberDisplayDiv(\"task1_img_sum\", task1Data.sum, \"87CEEB\");\n    document.getElementById('task1_answer').value = '';\n    document.getElementById('task1_answer').max = currentNumberRange;\n    document.getElementById('task1_feedback').textContent = '';\n    document.getElementById('task1_feedback').className = 'feedback';\n    initNumberLine1(task1Data.num1, task1Data.sum);\n}\n\nfunction generateTask2() {\n    let minuendMax = currentNumberRange;\n    if (minuendMax \u003c 2) minuendMax = 2;\n    task2Data.minuend = Math.floor(Math.random() * (minuendMax -1)) + 2; \n    task2Data.correctAnswer = Math.floor(Math.random() * (task2Data.minuend -1)) + 1; \n    task2Data.difference = task2Data.minuend - task2Data.correctAnswer;\n    if (task2Data.difference \u003c 0) { \n        task2Data.difference = 0;\n        task2Data.correctAnswer = task2Data.minuend;\n    }\n\n    document.getElementById('task2_description_p').textContent = `Mennyit kell kivonni ${task2Data.minuend}-ből, hogy ${task2Data.difference} legyen?`;\n    updateNumberDisplayDiv(\"task2_img_minuend\", task2Data.minuend, \"90EE90\");\n    updateNumberDisplayDiv(\"task2_img_difference\", task2Data.difference, \"FFA07A\");\n    document.getElementById('task2_answer').value = '';\n    document.getElementById('task2_answer').max = currentNumberRange;\n    document.getElementById('task2_feedback').textContent = '';\n    document.getElementById('task2_feedback').className = 'feedback';\n    initNumberLine2(task2Data.minuend, task2Data.difference);\n}\n\nfunction generateTask3() {\n    let correctAnswerMax = currentNumberRange;\n    if (correctAnswerMax \u003c 2) correctAnswerMax = 2; \n    \n    task3Data.subtrahend = Math.floor(Math.random() * (correctAnswerMax - 1)) + 1; \n    task3Data.difference = Math.floor(Math.random() * (correctAnswerMax - task3Data.subtrahend)) + 1; \n    task3Data.correctAnswer = task3Data.difference + task3Data.subtrahend; \n\n    if (task3Data.correctAnswer \u003e currentNumberRange) {\n        task3Data.correctAnswer = currentNumberRange;\n        if (task3Data.subtrahend \u003e= task3Data.correctAnswer) {\n            task3Data.subtrahend = task3Data.correctAnswer -1;\n            if (task3Data.subtrahend \u003c 1) task3Data.subtrahend = 1; \n        }\n        task3Data.difference = task3Data.correctAnswer - task3Data.subtrahend;\n        if(task3Data.difference \u003c 0) { \n            task3Data.difference = 0;\n            task3Data.correctAnswer = task3Data.subtrahend; \n        }\n    }\n\n    document.getElementById('task3_description_p').textContent = `Melyik számból kell elvenni ${task3Data.subtrahend}-ot, hogy ${task3Data.difference} maradjon?`;\n    updateNumberDisplayDiv(\"task3_img_subtrahend\", task3Data.subtrahend, \"FFC0CB\");\n    updateNumberDisplayDiv(\"task3_img_difference\", task3Data.difference, \"DDA0DD\");\n    document.getElementById('task3_answer').value = '';\n    document.getElementById('task3_answer').max = currentNumberRange;\n    document.getElementById('task3_feedback').textContent = '';\n    document.getElementById('task3_feedback').className = 'feedback';\n    initNumberLine3(task3Data.correctAnswer, task3Data.subtrahend, task3Data.difference);\n}\n\n\nfunction clearFeedback(feedbackEl) {\n    setTimeout(() =\u003e {\n        feedbackEl.textContent = '';\n        feedbackEl.className = 'feedback';\n    }, 10000); \n}\n\nfunction checkTask1() {\n    const answer = parseInt(document.getElementById('task1_answer').value);\n    const feedbackEl = document.getElementById('task1_feedback');\n    if (answer === task1Data.correctAnswer) { \n        feedbackEl.textContent = 'Ügyes vagy! Pontosan ' + task1Data.correctAnswer + ' hiányzott.';\n        feedbackEl.className = 'feedback correct';\n    } else if (isNaN(answer)) {\n        feedbackEl.textContent = 'Kérlek, írj be egy számot!';\n        feedbackEl.className = 'feedback incorrect';\n    }\n    else {\n        feedbackEl.textContent = 'Ez még nem jó. Gondold át, mennyit kell a ' + task1Data.num1 + '-hoz adni, hogy ' + task1Data.sum + ' legyen!';\n        feedbackEl.className = 'feedback incorrect';\n    }\n    clearFeedback(feedbackEl);\n}\n\nfunction checkTask2() {\n    const answer = parseInt(document.getElementById('task2_answer').value);\n    const feedbackEl = document.getElementById('task2_feedback');\n    if (answer === task2Data.correctAnswer) { \n        feedbackEl.textContent = 'Nagyszerű! Valóban ' + task2Data.correctAnswer + '-öt kellett elvenni.';\n        feedbackEl.className = 'feedback correct';\n    } else if (isNaN(answer)) {\n        feedbackEl.textContent = 'Kérlek, írj be egy számot!';\n        feedbackEl.className = 'feedback incorrect';\n    }\n    else {\n        feedbackEl.textContent = 'Nem pontos. Számolj utána, mennyit kell elvenni a ' + task2Data.minuend + '-ből, hogy ' + task2Data.difference + ' maradjon!';\n        feedbackEl.className = 'feedback incorrect';\n    }\n    clearFeedback(feedbackEl);\n}\n\nfunction checkTask3() {\n    const answer = parseInt(document.getElementById('task3_answer').value);\n    const feedbackEl = document.getElementById('task3_feedback');\n    if (answer === task3Data.correctAnswer) { \n        feedbackEl.textContent = 'Kiváló! A ' + task3Data.correctAnswer + '-ből kell elvenni ' + task3Data.subtrahend + '-ot.';\n        feedbackEl.className = 'feedback correct';\n    } else if (isNaN(answer)) {\n        feedbackEl.textContent = 'Kérlek, írj be egy számot!';\n        feedbackEl.className = 'feedback incorrect';\n    }\n    else {\n        feedbackEl.textContent = 'Ez még nem az igazi. Melyik az a szám, amiből ha elveszel ' + task3Data.subtrahend + '-ot, ' + task3Data.difference + '-at kapsz?';\n        feedbackEl.className = 'feedback incorrect';\n    }\n    clearFeedback(feedbackEl);\n}\n\n// Theme switcher logic\nconst bodyEl = document.body;\nconst themeButtons = document.querySelectorAll('.theme-button');\nconst rangeButtons = document.querySelectorAll('.range-button');\n\nfunction applyTheme(themeClass) {\n    bodyEl.className = ''; \n    bodyEl.classList.add(themeClass); \n\n    themeButtons.forEach(btn =\u003e {\n        if (btn.dataset.theme === themeClass) {\n            btn.classList.add('active');\n        } else {\n            btn.classList.remove('active');\n        }\n    });\n     // Re-apply active range button style based on currentNumberRange\n    rangeButtons.forEach(btn =\u003e {\n        if (parseInt(btn.dataset.range) === currentNumberRange) {\n            btn.classList.add('active');\n        } else {\n            btn.classList.remove('active');\n        }\n    });\n}\n\nthemeButtons.forEach(button =\u003e {\n    button.addEventListener('click', () =\u003e {\n        const selectedTheme = button.dataset.theme;\n        applyTheme(selectedTheme);\n    });\n});\n\nrangeButtons.forEach(button =\u003e {\n    button.addEventListener('click', () =\u003e {\n        currentNumberRange = parseInt(button.dataset.range);\n        \n        rangeButtons.forEach(btn =\u003e btn.classList.remove('active'));\n        button.classList.add('active');\n\n        // Regenerate tasks for the new range\n        generateTask1();\n        generateTask2();\n        generateTask3();\n    });\n});\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    generateTask1(); \n    generateTask2();\n    generateTask3();\n    const defaultTheme = 'theme-candy'; \n    applyTheme(defaultTheme); \n    // Set initial active range button\n    rangeButtons.forEach(btn =\u003e {\n        if (parseInt(btn.dataset.range) === currentNumberRange) {\n            btn.classList.add('active');\n        }\n    });\n});\n",
      "path": "public/matek/1.osztaly/hianyos-muveletek.js",
      "status": "new",
      "type": "app"
    }
  ]
}